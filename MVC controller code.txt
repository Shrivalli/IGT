using firstmvcproject.Models;
using Microsoft.AspNetCore.Mvc;

namespace firstmvcproject.Controllers
{

public class EmployeeController:Controller
{
    public static List<Employee> emps=Employee.getemployees();
    public ViewResult GetAllEmployees()
    {
         return View(emps);
    }

    public IActionResult AddEmployee()
    {
        return View();
    }

    [HttpPost]
    public IActionResult AddEmployee(Employee e)
    {
            emps.Add(e);
            return RedirectToAction("GetAllEmployees");
    }

    public IActionResult Details(int id)
    {
        Employee e=emps.Where(x=>x.Eid==id).SingleOrDefault();
        return View(e);
    }

     public IActionResult Edit(int id)
    {
        Employee e=emps.Where(x=>x.Eid==id).SingleOrDefault();
        return View(e);
    }

    [HttpPost]
    public IActionResult Edit(Employee e)
    {
        Employee oldemp=emps.Where(x=>x.Eid==e.Eid).SingleOrDefault();
        emps.Remove(oldemp);
        emps.Add(e);
        return RedirectToAction("GetAllEmployees");
    }


}
}